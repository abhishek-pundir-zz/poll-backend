# Migration `20200823173043-add-vote-model`

This migration has been generated by abpndr1 at 8/23/2020, 11:00:43 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE "Vote" (
    "id" INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
    "optionId" INTEGER NOT NULL,
    "pollId" INTEGER NOT NULL,

FOREIGN KEY ("optionId") REFERENCES "Option"("id") ON DELETE CASCADE ON UPDATE CASCADE,
FOREIGN KEY ("pollId") REFERENCES "Poll"("id") ON DELETE CASCADE ON UPDATE CASCADE
)
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200823090454-add-user-password..20200823173043-add-vote-model
--- datamodel.dml
+++ datamodel.dml
@@ -1,7 +1,7 @@
 datasource db {
   provider = "sqlite" 
-  url = "***"
+  url = "***"
 }
 generator client {
   provider = "prisma-client-js"
@@ -20,8 +20,9 @@
   question String
   author User @relation(fields: [authorId], references: [id])
   authorId Int
 	options Option[]
+  votes Vote[]
 }
 model Option {
   id Int @id @default(autoincrement())
@@ -29,4 +30,12 @@
   description String
   poll Poll @relation(fields: [pollId], references: [id])
   pollId Int
 }
+
+model Vote {
+  id Int @id @default(autoincrement())
+  option Option @relation(fields: [optionId], references: [id])
+  optionId Int
+  poll Poll @relation(fields: [pollId], references: [id])
+  pollId Int
+}
```


